# GlitchTip to Feishu Webhook Relay Configuration (v2.0)
# Only YAML format is supported. TOML is no longer supported.

# Server configuration
server_host: "127.0.0.1"
server_port: 7876

# Optional: Template directory for custom message templates
# template_dir: "/path/to/templates"

# ============================================================================
# Environment Variables (All variables use GWR_ prefix to avoid conflicts)
# ============================================================================
# You can override config values with environment variables:
#
# GWR_PORT - Server port (e.g., GWR_PORT=9000)
# GWR_SERVER_HOST - Server host address (e.g., GWR_SERVER_HOST=0.0.0.0)
# GWR_FEISHU_WEBHOOK_URL - Primary Feishu webhook URL
# GWR_ENABLE_HASH_COLORS - Enable/disable dynamic color generation (true/false)
#
# Examples:
#   GWR_PORT=9000
#   GWR_SERVER_HOST=0.0.0.0
#   GWR_ENABLE_HASH_COLORS=false
#   GWR_FEISHU_WEBHOOK_URL="https://open.feishu.cn/open-apis/bot/v2/hook/YOUR_TOKEN"

# ============================================================================
# Webhook Configurations
# ============================================================================
webhooks:
  # Example 1: Minimal configuration (using all defaults)
  - name: minimal_example
    url:
      - "https://open.feishu.cn/open-apis/bot/v2/hook/MINIMAL_EXAMPLE"
    enabled: true
    forward_config:
      type: feishu_robot_msg
    # config section is completely omitted - defaults to:
    #   n_par: 1
    #   timeout: 30
    #   retry: 3

  # Example 2: Configuration with some defaults
  - name: partial_defaults
    url:
      - "https://open.feishu.cn/open-apis/bot/v2/hook/PARTIAL_DEFAULTS"
    enabled: true
    forward_config:
      type: feishu_robot_msg
      feishu_robot_msg:
        card_theme: "blue"
    config:
      n_par: 5  # Only overriding n_par, timeout and retry use defaults